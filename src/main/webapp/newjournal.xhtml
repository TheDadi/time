<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pm="http://primefaces.org/mobile">

<f:view renderKitId="PRIMEFACES_MOBILE" />

<h:head>

</h:head>

<h:body>

	<pm:page id="first">
		<pm:header title="Page 1"></pm:header>

		<pm:content>
			<h:form>

				<p:dataList id="journal-woche" var="tag"
					value="#{journalController.wochentage}">
					<f:facet name="header">

						<p:commandButton id="letzteWoche" icon="ui-icon-circle-triangle-w"
							styleClass="ui-btn-inline ui-icon-arrow-l"
							actionListener="#{journalController.letzteWoche}"
							update="journal-woche" iconPos="left" style="float:left;" />

						<h:outputText value="Week " />
						<h:outputText value="#{journalController.woche}"
							style="text-align: center;">
							<f:convertDateTime pattern="w, MMMM yyyy" />
						</h:outputText>

						<p:commandButton id="neachsteWoche"
							icon="ui-icon-circle-triangle-w"
							styleClass="ui-btn-inline ui-icon-arrow-r"
							actionListener="#{journalController.naechsteWoche}"
							update="journal-woche" iconPos="right" style="float:right;" />

					</f:facet>
					<p:column>

						<p:commandLink value="#{tag.datum}"
							action="#{journalController.setSelectedWochentag(tag)}" />
					</p:column>
					<f:facet name="footer">

						<h:outputText value="Übersicht" />
					</f:facet>

				</p:dataList>




			</h:form>
		</pm:content>
		<pm:footer title="Options" fixed="true">
			<p:tabMenu activeIndex="0">
				<p:menuitem value="Home" icon="ui-icon-home" url="#first"
					iconPos="top" />
				<p:menuitem value="Settings" icon="ui-icon-gear" url="#second"
					iconPos="top" />
				<p:menuitem value="Search" icon="ui-icon-search" url="#"
					iconPos="top" />
				<p:menuitem value="Search" icon="ui-icon-search" url="#"
					iconPos="top" />
				<p:menuitem value="Search" icon="ui-icon-search" url="#"
					iconPos="top" />

			</p:tabMenu>
		</pm:footer>
	</pm:page>

	<pm:page id="second">
		<h:form id="formSecond">


			<pm:header id="headerSecond" title="Journal Übersicht">
				<p:commandButton id="letzteWoche" icon="ui-icon-circle-triangle-w"
					styleClass="ui-btn-inline ui-icon-arrow-l"
					actionListener="#{journalController.letzteWoche}"
					update="journal-woche,date" iconPos="left" style="float:left;" />



				<p:commandButton id="neachsteWoche" icon="ui-icon-circle-triangle-w"
					styleClass="ui-btn-inline ui-icon-arrow-r"
					actionListener="#{journalController.naechsteWoche}"
					update="journal-woche,date" iconPos="right" style="float:right;" />

			</pm:header>

			<pm:content id="contentSecond">
				<h2 class="first" id="first">
					Woche
					<h:outputText value="#{journalController.woche}" id="date">
						<f:convertDateTime pattern="w, MMMM yyyy" />
					</h:outputText>
					<p:separator></p:separator>
				</h2>



				<p:accordionPanel dynamic="true" cache="true" id="journal-woche"
					value="#{journalController.wochentage}" var="tag">
					<p:tab title="#{tag.datum}">
						<p:dataList var="buchung" value="#{tag.buchungen}" id="table">
							<f:facet name="header">
								<h:outputText value="#{tag.datum}">
									<f:convertDateTime pattern="E. d" />
								</h:outputText>
							</f:facet>
							<p:column>
								<h:outputText value="#{buchung.stunden}" />
							</p:column>
							<p:column>
								<h:outputText value="#{buchung.task.name}" />
							</p:column>
							<f:facet name="footer">
								<h:outputText value="Total " />
								<h:outputText value="#{tag.total}">
									<f:convertNumber maxFractionDigits="1" minFractionDigits="1" />
								</h:outputText>
							</f:facet>

						</p:dataList>
					</p:tab>
				</p:accordionPanel>
			</pm:content>
		</h:form>
		<pm:footer title="Options" fixed="true">
			<p:tabMenu activeIndex="0">
				<p:menuitem value="Home" icon="ui-icon-home" url="#first"
					iconPos="top" />
				<p:menuitem value="Settings" icon="ui-icon-gear" url="#second"
					iconPos="top" />
				<p:menuitem value="Search" icon="ui-icon-search" url="#"
					iconPos="top" />
				<p:menuitem value="Search" icon="ui-icon-search" url="#"
					iconPos="top" />
				<p:menuitem value="Search" icon="ui-icon-search" url="#"
					iconPos="top" />

			</p:tabMenu>
		</pm:footer>
	</pm:page>
	<pm:page id="third">
		<h:form id="formThird">


			<pm:header id="headerSecond" title="Journal Hinzufügen">


			</pm:header>

			<pm:content id="contentSecond">

					<h:outputLabel value="Datum" for="popupCal" />


					<p:calendar value="#{journalAddController.journal.datum}"
						id="popupCal" required="true"
						requiredMessage="Bitte Datum angeben!" />
					<h:outputLabel value="Stunden" for="stunden" />
					<p:inputText value="#{journalAddController.journal.stunden}"
						id="stunden" required="true"
						requiredMessage="Bitte Stunden angeben!" style="margin-left:0px;">
						<f:convertNumber maxFractionDigits="1" />
					</p:inputText>
					<h:outputLabel value="Task" for="task" />

					<p:selectOneMenu value="#{journalAddController.task}" id="task"
						required="true" requiredMessage="Waehle einen Task" filter="true"
						filterMatchMode="startsWith">
						<f:selectItems value="#{journalAddController.tasks}" var="task"
							itemLabel="#{task.name}" itemValue="#{task.task_id}" />
					</p:selectOneMenu>
					<h:outputLabel value="Bemerkung" for="bemerkung" />
					<p:inputText value="#{journalAddController.journal.bemerkung}"
						id="bemerkung" />
					<p:commandButton value="save"
						actionListener="#{journalAddController.save}" id="withIcon"
						 ajax="true" />

			</pm:content>
		</h:form>
		<pm:footer title="Options" fixed="true">
			<p:tabMenu activeIndex="0">
				<p:menuitem value="Home" icon="ui-icon-home" url="#first"
					iconPos="top" />
				<p:menuitem value="Settings" icon="ui-icon-gear" url="#second"
					iconPos="top" />
				<p:menuitem value="Search" icon="ui-icon-search" url="#"
					iconPos="top" />
				<p:menuitem value="Search" icon="ui-icon-search" url="#"
					iconPos="top" />
				<p:menuitem value="Search" icon="ui-icon-search" url="#"
					iconPos="top" />

			</p:tabMenu>
		</pm:footer>
	</pm:page>

</h:body>

</html>